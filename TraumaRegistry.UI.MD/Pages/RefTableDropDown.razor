
    
    <div style="col-lg-2">


        <select class="form-control mb-4" Label=@PlaceHolder @onchange="@selectedIdChanged">

            @if (refTable.TableData != null)
            {

                @foreach (var item in refTable.TableData)
                {
                    if (item.Id == SelectedId)
                    {
                        <option value=@item.Id selected>@item.Description</option>
                    }
                    else
                    {
                        <option value=@item.Id>@item.Description</option>
                    }
                }
            }
        </select>
    </div>
        @code {
            [Parameter]
            public string TableName { get; set; }
            [Parameter]
            public string PlaceHolder { get; set; }
            [Parameter]
            public int SelectedId {get; set;}
            [Parameter]
            public EventCallback<int> IdChanged { get; set; }



            RefTableDTO refTable = new RefTableDTO();

            protected override async Task OnInitializedAsync()
            {
                ReferenceTableClient client = new ReferenceTableClient();
                refTable = await client.GetRefTableDataAsync(TableName);
            }

            void selectedIdChanged(ChangeEventArgs e)
            {
                IdChanged.InvokeAsync(Convert.ToInt32(e.Value));
            }
        }
